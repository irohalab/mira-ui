<admin-navbar navTitle="编辑新番" backLink="/admin/bangumi">
    <div class="navbar-tab-menu action-item">
        <a class="item" [ngClass]="{active: activatedTab === 'Overview'}" (click)="activeTab('Overview')">Overview</a>
        <a class="item" [ngClass]="{active: activatedTab === 'Episode'}" (click)="activeTab('Episode')">Episode</a>
        <a class="item" [ngClass]="{active: activatedTab === 'ResourceGroup'}" (click)="activeTab('ResourceGroup')">Resource Group</a>
        <a class="item" [ngClass]="{active: activatedTab === 'VideoProcess'}" (click)="activeTab('VideoProcess')">Video Process</a>
    </div>
    <a class="accessory-action anchor-button" (click)="addOrEditAnnounce()">
        <i class="thumbs up icon" [ngClass]="{outline: announceStatus !== AnnounceStatus.ANNOUNCING}"></i>
        {{announceStatusText}}
    </a>
    <a class="accessory-action anchor-button"
       title="删除番組"
       confirmDialog
       dialogTitle="确定删除番組么"
       dialogContent="删除该番組将删除与之有关的所有视频文件，torrent，用户收藏，观看进度等信息"
       (onConfirm)="deleteBangumi()">
        <i class="trash icon"></i> 删除番組
    </a>
</admin-navbar>
<div class="bangumi-detail-container" *ngIf="bangumi && adminList">
    <app-bangumi-overview *ngIf="activatedTab === 'Overview'" [bangumi]="bangumi"></app-bangumi-overview>
    <app-episode-list *ngIf="activatedTab === 'Episode'" [bangumi]="bangumi"></app-episode-list>
    <app-resource-group *ngIf="activatedTab === 'ResourceGroup'" [bangumi]="bangumi"></app-resource-group>
    <video-process-rule *ngIf="activatedTab === 'VideoProcess'" [bangumi]="bangumi"></video-process-rule>
</div>
<div class="initial-placeholder" *ngIf="!bangumi && !adminList">
    <div class="placeholder-text">加载中...</div>
</div>
<div class="loading-container" *ngIf="isLoading">
    <div class="ui inverted dimmer active">
        <div class="ui large loader"></div>
    </div>
</div>