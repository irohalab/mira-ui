<div class="reflect-state-indicator" (@reflectState.done)="reflectAnimationCallback($event)" [@reflectState]="reflectAnimationState">
    <i class="icon" [ngClass]="reflectIconClass"></i>
</div>
<div class="control-wrapper" (click)="onClickVideo($event)" #controlWrapper>
    <video-captured-frame-list [showControls]="showControls" (motion)="onMotion()"></video-captured-frame-list>
    <next-episode-overlay *ngIf="hasNextEpisode && isPlayEnd"
                          [hasNextEpisode]="hasNextEpisode"
                          (onCancel)="onCancelNext()"></next-episode-overlay>
    <last-position-overlay [@controlBarState]="controlBarState"></last-position-overlay>
    <div class="control-bar" (click)="onControlBarClick($event)" [@controlBarState]="controlBarState">
        <video-player-scrub-bar (motion)="onMotion()" [showControls]="showControls"></video-player-scrub-bar>
        <div class="control-buttons">
            <video-play-button [controlVisibleState]="showControls"></video-play-button>
            <video-volume-control (motion)="onMotion()"></video-volume-control>
            <video-time-indicator></video-time-indicator>
            <div class="right-aligned-controls">
                <video-player-help-button></video-player-help-button>
                <video-player-config-button></video-player-config-button>
                <video-capture-button></video-capture-button>
                <video-theater-button [controlVisibleState]="showControls"></video-theater-button>
                <video-fullscreen-button [controlVisibleState]="showControls"></video-fullscreen-button>
            </div>
        </div>
    </div>
</div>